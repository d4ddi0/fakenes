dnl Process this file with autoconf to produce a configure script.
AC_INIT(src/main.c)

dnl Checks for programs.
AC_PROG_CC
AC_PROG_INSTALL
AC_PATH_PROG(MAKE, make, make)

dnl Checks for libraries.
AC_CHECK_LIB(z, gzopen)

AC_MSG_CHECKING(whether to enable gzip support)

if test x$HAVE_LIBZ != xno; then
    DFLAGS="$DFLAGS -DUSE_ZLIB"
	AC_MSG_RESULT(yes)
else
	AC_MSG_RESULT(no)
fi

dnl Checks for header files.

dnl Checks for typedefs, structures, and compiler characteristics.
AC_WORDS_BIGENDIAN

dnl Set DFLAGS to -DLSB_FIRST if on a little endian platform,
dnl otherwise set it to nothing.

if test x$WORDS_BIGENDIAN != xyes; then
    DFLAGS="$DFLAGS -DLSB_FIRST"
else
    DFLAGS="$DFLAGS"
fi

dnl There is also the data type definitions that need to be
dnl handled by using configure to detect size.

dnl Checks for library functions.

AC_SUBST(MAKE)

AC_SUBST(DFLAGS)
AC_SUBST(EXEEXT)
AC_SUBST(LIBS)

AC_OUTPUT(Makefile src/Makefile)
